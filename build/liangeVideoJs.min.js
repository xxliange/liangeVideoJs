!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t=t||self).liangeVideoJs=i()}(this,function(){"use strict";function l(t){var i,o=document.querySelectorAll(t);return(i=o)&&(i instanceof HTMLCollection||i instanceof NodeList)?o:[o]}function a(t){if(t){if(t instanceof a)return t;var i,o,n=(this.selector=t).nodeType,e=[];9===n||1===n?e=[t]:"string"==typeof t&&(e=0===(t=t.replace("/\n/mg","").trim()).indexOf("<")?(i=t,o=void 0,(o=document.createElement("div")).innerHTML=i,o.children):l(t));var r=e.length;if(!r)return this;for(var s=0;s<r;s++)this[s]=e[s];this.length=r}}function r(t){return new a(t)}function t(t){this.video=t}function i(t){this.video=t,this.text="播放",this.$elem=r("\n        <div class='l-c-playCon'>\n\n        </div>\n    "),this.$text=r("<p></p>"),this.$elem.append(this.$text),this.$text.innerText(this.text),this.isPlay=!1,this.type="click"}a.prototype={forEach:function(t){for(var i=0;i<this.length;i++){var o=this[i];if(!1===t.call(o,o,i))break}return this},on:function(t,o,n){n||(n=o,o=null);var e=[];return e=t.split(/\s+/),this.forEach(function(i){e.forEach(function(t){t&&(o?i.addEventListener(t,function(t){var i=t.target;i.matches(o)&&n.call(i,t)}):i.addEventListener(t,n))})})},children:function(){var t=this[0];return t?r(t.children):null},addClass:function(o){return o?this.forEach(function(t){var i=void 0;t.className?((i=(i=t.className.split(/\s/)).filter(function(t){return!!t.trim()})).indexOf(o)<0&&i.push(o),t.className=i.join(" ")):t.className=o}):this},append:function(t){return this.forEach(function(i){t.forEach(function(t){i.appendChild(t)})})},innerText:function(i){return this.forEach(function(t){i&&(t.innerText=i)})},play:function(){return this.forEach(function(t){t.play()})},pause:function(){return this.forEach(function(t){t.pause()})}},t.prototype={_init:function(){var t=this.video.$videoElm;t[0];t.on("loadedmetadata",this._videoLoad)},_videoLoad:function(){}},i.prototype={constructor:i,onClick:function(){var t=this.video,i=this.isPlay,o=this.text,n=t.$videoElm;i?(o="播放",n.pause(),this.isPlay=!1):(o="暂停",n.play(),this.isPlay=!0),this.$text.innerText(o),t.isPlay=i}};var e={};function o(t,i){var o=void 0;for(o in t)if(t.hasOwnProperty(o)&&!1===i.call(t,o,t[o]))break}function n(t){this.video=t,this.controls={}}e.playCon=i,n.prototype={constructor:n,init:function(){var o=this,n=this.video;((n.config||{}).controls||[]).forEach(function(t){var i=e[t];"function"==typeof i&&i&&(o.controls[t]=new i(n))}),this._addToControlBar(),this._bindEvent()},_addToControlBar:function(){var n=this.video.$controlsBar;o(this.controls,function(t,i){var o=i.$elem;o&&n.append(o)})},_bindEvent:function(){var t=this.controls;this.video;o(t,function(t,i){var o=i.type;if(o){var n=i.$elem;"click"===o&&i.onClick&&n.on("click",function(t){i.onClick(t)})}})}};var s={controls:["progressBar","playCon","voice","speed","fullScreen","loop","timeText"],url:null,title:null},c=1;function d(t,i){if(null==t)throw new Error("错误: 初始化video时未传入参数!");this.id="liangeVideo-"+c++,this.selector=t,this.config=i}d.prototype={_initConfig:function(){this.config=Object.assign({},s,this.config)},_initDom:function(){var t=r(this.selector),i=this.config,o=void 0,n=void 0,e=void 0;o=r("<div></div>"),n=r("<video src="+i.url+"></video>"),null!==i.title&&(e=r("<div>\n                <p>"+i.title+"</p>\n            </div>"),t.append(e),e.addClass("l-title"),this.$titleElm=e),t.append(o).append(n),o.addClass("l-c-controlsBar"),n.addClass("l-video"),this.$controlsBar=o,this.$videoElm=n},_initVideo:function(){this.videoEl=new t(this),this.videoEl._init()},_initControls:function(){this.controls=new n(this),this.controls.init()},create:function(){this._initConfig(),this._initDom(),this._initVideo(),this._initControls()}};try{document}catch(t){throw new Error("请在浏览器环境下运行")}var f=document.createElement("style");return f.type="text/css",f.innerHTML="*{    margin: 0;    padding: 0;    color: #000;}.video{    width: 700px;    height: 480px;    display: -webkit-box;    display: flex;    align-content: center;    -webkit-box-pack: center;            justify-content: center;    position: relative;    margin: 10px auto;}.l-video{    width: 100%;    height: 100%;    background-color: #000;}.video .l-title{    width: 100%;    box-sizing: border-box;    padding: 20px 20px;    position: absolute;    top: 0;    left: 0;    background:-webkit-gradient(linear, left top, left bottom, from(rgba(43,51,63,.7)), to(rgba(0,0,0,0.3)));    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#4c000000', endColorstr='#4c000000');    background:linear-gradient(to bottom, rgba(43,51,63,.7), rgba(0,0,0,0.3));    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#4c000000', endColorstr='#4c000000');    z-index: 9;}:root .video .l-title{    filter: none\\9;}:root .video .l-title{    filter: none\\9;}.video .l-title p{    font-size: 16px;    font-weight: 500;    color: #fff;    overflow: hidden;    white-space: nowrap;    text-overflow: ellipsis;}.video .l-c-controlsBar{    width: 100%;    padding: 20px 10px;    box-sizing: border-box;    background:-webkit-gradient(linear, left bottom, left top, from(rgba(43,51,63,.7)), to(rgba(0,0,0,0.3)));    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#4c000000', endColorstr='#4c000000');    background:linear-gradient(to top, rgba(43,51,63,.7), rgba(0,0,0,0.3));    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#4c000000', endColorstr='#4c000000');    position: absolute;    bottom: 0;    left: 0;    z-index: 9;}:root .video .l-c-controlsBar{    filter: none\\9;}:root .video .l-c-controlsBar{    filter: none\\9;}.video .l-c-controlsBar .l-c-playCon{    width: 40px;    height: 40px;    line-height: 40px;    text-align: center;    background:#fff;    border-radius: 100%;    cursor: pointer;    -webkit-user-select: none;       -moz-user-select: none;        -ms-user-select: none;            user-select: none;}.video .l-c-controlsBar .l-c-playCon p{    color: #000;    font-size: 12px;}",document.getElementsByTagName("HEAD").item(0).appendChild(f),window.liangeVideoJs||d});
//# sourceMappingURL=liangeVideoJs.min.js.map
